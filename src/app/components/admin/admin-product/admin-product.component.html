<form [formGroup]="newProductForm" (ngSubmit)="onSubmit()">

  <div class="form-group row">
    <label for="category" class="col-sm-2 col-form-label">Category</label>
    <select
      name="furniture_category_id"
      formControlName="category"
      id="category"
      class="form-control col-sm-8">
      <option *ngFor="let category of apiCategories" [value]="category.id">{{ category.name }}</option>
    </select>
  </div>

  <div class="form-group row">
    <label for="name" class="col-sm-2 col-form-label">Name</label>
    <input
      type="text"
      name="name"
      formControlName="name"
      id="name"
      class="form-control col-sm-8">
      <span
        *ngIf="!newProductForm.get('name').valid && newProductForm.get('name').touched"
        class="help-block">Please enter a valid name</span>
  </div>

  <div class="form-group row">
    <label for="description" class="col-sm-2 col-form-label">Description</label>
    <textarea
      name="description"
      formControlName="description"
      id="description"
      class="form-control col-sm-8"
      rows="3"></textarea>
  </div>

  <div class="form-group row">
    <label for="availability" class="col-sm-2 col-form-label">Availability</label>
    <select
      name="availability"
      formControlName="availability"
      id="availability"
      class="form-control col-sm-8">
      <option *ngFor="let availability of allAvailability" [value]="availability.status">{{ availability.status }}</option>
    </select>
  </div>


  <div class="form-group row">
    <label for="color" class="col-sm-2 col-form-label">Color</label>
    <input
      name="color"
      formControlName="color"
      type="text"
      id="color"
      class="form-control col-sm-8">
  </div>


  <div class="form-group row">
    <label for="price" class="col-sm-2 col-form-label">Price</label>
    <input
      name="price"
      formControlName="price"
      pattern="^[1-9]+[0-9]*$"
      type="text"
      id="price"
      class="form-control col-sm-8">
      <span
        *ngIf="!newProductForm.get('name').valid && newProductForm.get('name').touched"
        class="help-block">Please enter a valid Price
      </span>
  </div>

  <div class="form-group row">
    <label for="imagePath" class="col-sm-2 col-form-label">Image URL</label>
    <input
      name="img"
      formControlName="imageUrl"
      type="text"
      id="imagePath"
      class="form-control col-sm-8"
      #imagePath>
  </div>


  <div class="row">
    <div class="col-sm-12">
        <img [src]="imagePath.value" alt="" class="img-responsive">
    </div>
  </div>

  <div class="row">
      <div class="col-md-6 col-sm-12">
        <button
          type="submit"
          class="btn"
          [disabled]="!newProductForm.valid">Save</button>
        <button
          type="button"
          class="btn"
          (click)="onCancel()">Cancel</button>
      </div>
    </div>
</form>
